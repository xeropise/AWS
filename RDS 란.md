### Amazon RDS란

![AWS-Feature](https://user-images.githubusercontent.com/50399804/134775169-04a5d733-e23b-4bbb-a2f9-6099aca4a4a7.png)

- Amazon Relational Database Service(Amazon RDS)는 관계형 데이터베이스 6종류의 제품을 클라우드에 최적화된 상태로 제공하는 서비스이다.

- Amazon Aurora 외에도 PostgreSQL, MySQL, MariaDB, Oracle Dtabase, SQL Server 를 지원하며 메모리, 성능, I/O 등이 최적화된 데이터베이스 인스턴스를 제공한다.

- 데이터베이스의 제공 방식은 EC2와 비슷하다. VPC 상에 인스턴스 형태로 구축하며 다양한 인스턴스 클래스를 사용할 수 있다.

  - EC2와 다른 점은 RDS는 '매니지드 서비스' 이며 업데이트 등의 관리가 AWS에 의해 자동으로 이루어진다는 점이다.

  - 백업과 같이 번거로운 관리 작업도 자동화되어 있어 관리자가 수행할 필요가 없다.

- AWS Database Migration Server(DMS) 를 사용하면 기존 데이터베이스를 이전하거나 복제하는 것도 가능하다.

<br>

---

### 인스턴스 클래스

- RDS는 EC2와 마찬가지로 인스턴스 형식으로 사용하는데 인스턴스 클래스는 표준, 메모리 최적화, 버스트 성능의 3종류가 있다.

- 클래스에 따라 micro, small, medium, large, xlarge, 2xlarge, 4xlarge, 8xlarge, 16xlarge 크기를 제공하고 있다. 인스턴스 클래스에 따라 지원하지 않는 DBMS나 버전도 있다.

- 데이터베이스 인스턴스는 VPC에 설치해야 한다. 예전에 데이터베이스 인스턴스는 VPC 외부에도 설치할 수 있었지만, 지금은 VPC에 설치하지 않으면 안 된다.

- 자세한 것은 [여기](https://aws.amazon.com/ko/rds/instance-types/)에서 참조하자.



| 용도         | 인스턴스 클래스 | 내용                                                         |
| ------------ | --------------- | ------------------------------------------------------------ |
| 표준         | db.m5 등        | 범용적인 인스턴스 클래스                                     |
| 메모리최적화 | db.x1e          | 메모리를 많이 사용하는 애플리케이션에 최적화된 인스턴스 클래스로, 일부 리전에서만 제공된다.<br>한국 리전에서는 이용할 수 있다. |
|              | db.x1           | 메모리를 많이 사용하는 애플리케이션에 최적화된 인스턴스 클래스이다. 메모리 최대치가 db.x1e의 절반 |
|              | db.r5 등        | 네트워크와 EBS의 성능을 강화한다. AWS Nitro System 을 사용한다. |
| 버스트 성능  | db.t3           | CPU의 최대 사용률까지 버스트 성능으로 사용할 수 있다.        |



<br>



***

### RDS 요금

- 기본적으로 EC2 와 비슷하지만, DBMS에 따라 인스턴스 요금이 다른 것이 특징이다. DBMS는 무료와 유료가 있고, 유료 DBMS는 AWS 에서도 라이선스 사용료가 부과된다. 라이선스 요금은 인스턴스 요금에 포함되어 있다.
  - RDS 요금 = 스토리지(사용하고 있는 디스크) 요금 + 데이터베이스 인스턴스 요금 + 백업 스토리지 요금 + 통신료



<br>



***

### RDS의 장점과 단점

- RDS의 장점

  - 매니지드 서비스이므로 AWS가 업데이트 등을 관리해주기 때문에 따로 관리하지 않아도 된다.

    

  - 간단하게 데이터베이스를 생성할 수 있으며 온프레미스에서 데이터를 이전하기 쉽고 소프트웨어를 수정하지 않아도 이전이 가능하다.

    

  - EC2 와 연동하기 쉽고 같은 네트워크 내에 있다면 통신료도 무료이다.

    

- RDS의 단점

  - 사용자가 자유롭게 사용할 수 없다. 

    

  - 제공하고 있는 DBMS의 종류나 버전이 한정되어 있으며, AWS가 업데이트를 자동으로 수행하여 편리하지만 오히려 업데이트하면 곤란한 시점에 수행되는 경우도 있다.



> __RDS의 자동 업데이트 __
>
> - 새로운 버전이 출시되거나 소프트웨어 취약점이 발견된 경우에는 자동으로 업데이트된다.
>
>   
>
> - 예고 없이 갑자기 업데이트한다면 당연히 곤란하기 때문에 서비스 정지가 필요할 경우에는 AWS에서 따로 공지하는데 세가지 중 하나를 선택한다.
>
>   - 자동 업데이트를 하는 방법, 테스트 환경으로 사용할 경우는 별로 영향이 없을 지도 모르지만 그래도 싫어하는 사람이 있을 수 있다.
>
>     
>
>   - 관리 콘솔에서 수동으로 업데이트하거나 업데이트 시간을 지정하는 방법, 업데이트 시에 일시적으로 데이터베이스 인스턴스를 사용할 수 없다. 관리자가 모르는 사이에 업데이트되는 것을 방지할 수 있고, 사전에 사이트 사용자와 시스템 사용자에게 공지할 수 있다.
>
>     
>
>   - 업데이트를 무시하는 방법, 치명적인 취약점에 대한 업데이트는 무시하기 힘들고 오래된 버전은 AWS가 점점 지원을 종료하므로 어느 시점에는 업데이트를 해야 한다. 업데이트를 하지 않는 선택은 문제를 미루는 것에 불과하므로 아예 하지 않는 선택지는 없다고 생각하자.
>
>     
